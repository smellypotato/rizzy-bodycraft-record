{"ast":null,"code":"import _regeneratorRuntime from\"/Users/HenryTsui/Desktop/rizzy-bodycraft-record/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/HenryTsui/Desktop/rizzy-bodycraft-record/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/HenryTsui/Desktop/rizzy-bodycraft-record/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/HenryTsui/Desktop/rizzy-bodycraft-record/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{initializeApp}from\"firebase/app\";import{getAuth,isSignInWithEmailLink,onAuthStateChanged as _onAuthStateChanged,sendSignInLinkToEmail,signInWithEmailAndPassword,signInWithEmailLink,signOut,updatePassword}from\"firebase/auth\";import{addDoc,collection,deleteDoc,doc,getDoc,getDocs,getFirestore,onSnapshot,query,setDoc,where}from\"firebase/firestore\";import{optionConverter,categoryConverter}from\"./type\";var firebaseConfig={apiKey:\"AIzaSyDHTYHXBArEA-6bqGFdbqsG1_KLuzGRE2I\",authDomain:\"rizzy-bodycraft-record.firebaseapp.com\",projectId:\"rizzy-bodycraft-record\",storageBucket:\"rizzy-bodycraft-record.appspot.com\",messagingSenderId:\"930408534506\",appId:\"1:930408534506:web:127e3be9dd6236d9836293\",measurementId:\"G-SKFHESV2J6\"};var COLLECTION;(function(COLLECTION){COLLECTION[\"CATEGORY\"]=\"category\";COLLECTION[\"USER_PROFILE\"]=\"user-profile\";COLLECTION[\"APPLICATION\"]=\"application\";})(COLLECTION||(COLLECTION={}));var Firebase=/*#__PURE__*/function(){function Firebase(){_classCallCheck(this,Firebase);this.app=void 0;this.auth=void 0;this.firestore=void 0;console.log(\"initializing firebase\");this.app=initializeApp(firebaseConfig);this.auth=getAuth(this.app);this.firestore=getFirestore(this.app);}_createClass(Firebase,[{key:\"signup\",value:// auth\nfunction(){var _signup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password,name){var _this=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:updatePassword(this.auth.currentUser,password).then(function(){_this.updateUserProfile({email:email,name:name});}).catch(function(err){return console.error(err);});case 1:case\"end\":return _context.stop();}},_callee,this);}));function signup(_x,_x2,_x3){return _signup.apply(this,arguments);}return signup;}()},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(args){var _this2=this;var email,password;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:email=args.email,password=args.password;if(!(email!==undefined)){_context2.next=12;break;}if(!(password!==undefined)){_context2.next=8;break;}_context2.next=5;return new Promise(function(resolve,reject){signInWithEmailAndPassword(_this2.auth,email,password).then(function(credential){console.log(credential);resolve(true);}).catch(function(err){console.error(err.code);reject(false);});});case 5:return _context2.abrupt(\"return\",_context2.sent);case 8:console.log(email);_context2.next=11;return new Promise(function(resolve,reject){return signInWithEmailLink(_this2.auth,email,window.location.href).then(function(result){console.log(result);resolve(true);}).catch(function(err){// auth/invalid-email\n// auth/invalid-action-code when link used to login\nconsole.error(err.code,err.message);reject(false);});});case 11:return _context2.abrupt(\"return\",_context2.sent);case 12:return _context2.abrupt(\"return\",false);case 13:case\"end\":return _context2.stop();}},_callee2);}));function login(_x4){return _login.apply(this,arguments);}return login;}()},{key:\"logout\",value:function(){var _logout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return signOut(Firebase.instance.auth);case 2:case\"end\":return _context3.stop();}},_callee3);}));function logout(){return _logout.apply(this,arguments);}return logout;}()},{key:\"onAuthStateChanged\",value:function onAuthStateChanged(callback){return _onAuthStateChanged(this.auth,function(user){return callback(user);});}},{key:\"approvePendingAccount\",value:function approvePendingAccount(email){var actionCodeSettings={// URL you want to redirect back to. The domain (www.example.com) for this\n// URL must be in the authorized domains list in the Firebase Console.\nurl:'http://localhost:3000',handleCodeInApp:true};sendSignInLinkToEmail(this.auth,email,actionCodeSettings).then(function(){return console.log(\"success\");}).catch(function(err){return console.log(\"failed\",err);});}},{key:\"isAnnoymousAccount\",value:function isAnnoymousAccount(){return isSignInWithEmailLink(this.auth,window.location.href);}// firestore\n},{key:\"onPendingAccountsChange\",value:function onPendingAccountsChange(callback){return onSnapshot(collection(this.firestore,COLLECTION.APPLICATION),function(collection){var pendings=[];collection.forEach(function(application){return pendings.push(Object.assign({id:application.id},application.data()));});callback(pendings);});}},{key:\"removePendingAccount\",value:function(){var _removePendingAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return deleteDoc(doc(this.firestore,COLLECTION.APPLICATION,id));case 2:case\"end\":return _context4.stop();}},_callee4,this);}));function removePendingAccount(_x5){return _removePendingAccount.apply(this,arguments);}return removePendingAccount;}()},{key:\"checkNewAccount\",value:function(){var _checkNewAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(email){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return getDoc(doc(this.firestore,COLLECTION.USER_PROFILE,email));case 2:return _context5.abrupt(\"return\",!_context5.sent.exists());case 3:case\"end\":return _context5.stop();}},_callee5,this);}));function checkNewAccount(_x6){return _checkNewAccount.apply(this,arguments);}return checkNewAccount;}()},{key:\"updateUserProfile\",value:function(){var _updateUserProfile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(profile){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return setDoc(doc(this.firestore,COLLECTION.USER_PROFILE,profile.email),{name:profile.name,email:profile.email});case 2:case\"end\":return _context6.stop();}},_callee6,this);}));function updateUserProfile(_x7){return _updateUserProfile.apply(this,arguments);}return updateUserProfile;}()},{key:\"getCategories\",value:function(){var _getCategories=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var categories;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:categories=[];_context7.next=3;return getDocs(collection(this.firestore,COLLECTION.CATEGORY).withConverter(categoryConverter)).then(function(cats){return cats.forEach(function(cat){categories.push(cat.data());});});case 3:return _context7.abrupt(\"return\",categories);case 4:case\"end\":return _context7.stop();}},_callee7,this);}));function getCategories(){return _getCategories.apply(this,arguments);}return getCategories;}()// async getOptions(categoryId: string) {\n//     let options: Array<Option> = [];\n//     await getDocs(collection(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\").withConverter(optionConverter))\n//         .then(opts => opts.forEach(\n//             opt => options.push(opt.data())\n//         ));\n//     return options;\n// }\n},{key:\"onOptionUpdate\",value:function onOptionUpdate(categoryId,onUpdate){return onSnapshot(collection(this.firestore,COLLECTION.CATEGORY,categoryId,\"Options\").withConverter(optionConverter),function(opts){var options=[];opts.forEach(function(opt){return options.push(opt.data());});onUpdate(options);});}},{key:\"addOption\",value:function(){var _addOption=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(categoryId,optionLabel,choices){var obj;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.next=2;return getDocs(query(collection(this.firestore,COLLECTION.CATEGORY,categoryId,\"Options\"),where(\"title\",\"==\",optionLabel)));case 2:if(_context8.sent.empty){_context8.next=5;break;}console.warn(\"label exists\");return _context8.abrupt(\"return\");case 5:obj={id:\"\",title:optionLabel,isChoices:choices!==undefined,choices:choices};!obj.isChoices&&delete obj.choices;_context8.next=9;return addDoc(collection(this.firestore,COLLECTION.CATEGORY,categoryId,\"Options\").withConverter(optionConverter),obj);case 9:case\"end\":return _context8.stop();}},_callee8,this);}));function addOption(_x8,_x9,_x10){return _addOption.apply(this,arguments);}return addOption;}()},{key:\"deleteOption\",value:function(){var _deleteOption=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(categoryId,optionId){return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.next=2;return deleteDoc(doc(this.firestore,COLLECTION.CATEGORY,categoryId,\"Options\",optionId));case 2:case\"end\":return _context9.stop();}},_callee9,this);}));function deleteOption(_x11,_x12){return _deleteOption.apply(this,arguments);}return deleteOption;}()}],[{key:\"instance\",get:function get(){return Firebase._inst;}},{key:\"init\",value:function init(){if(!Firebase._inst)Firebase._inst=new Firebase();}}]);return Firebase;}();Firebase._inst=void 0;export{Firebase as default};","map":{"version":3,"names":["initializeApp","getAuth","isSignInWithEmailLink","onAuthStateChanged","sendSignInLinkToEmail","signInWithEmailAndPassword","signInWithEmailLink","signOut","updatePassword","addDoc","collection","deleteDoc","doc","getDoc","getDocs","getFirestore","onSnapshot","query","setDoc","where","optionConverter","categoryConverter","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","COLLECTION","Firebase","app","auth","firestore","console","log","email","password","name","currentUser","then","updateUserProfile","catch","err","error","args","undefined","Promise","resolve","reject","credential","code","window","location","href","result","message","instance","callback","user","actionCodeSettings","url","handleCodeInApp","APPLICATION","pendings","forEach","application","push","Object","assign","id","data","USER_PROFILE","exists","profile","categories","CATEGORY","withConverter","cats","cat","categoryId","onUpdate","opts","options","opt","optionLabel","choices","empty","warn","obj","title","isChoices","optionId","_inst"],"sources":["/Users/HenryTsui/Desktop/rizzy-bodycraft-record/src/firebase.ts"],"sourcesContent":["import { FirebaseApp, initializeApp } from \"firebase/app\";\nimport { Auth, createUserWithEmailAndPassword, getAdditionalUserInfo, getAuth, isSignInWithEmailLink, onAuthStateChanged, sendSignInLinkToEmail, signInWithEmailAndPassword, signInWithEmailLink, signOut, updatePassword, User, UserCredential } from \"firebase/auth\";\nimport { addDoc, collection, deleteDoc, doc, Firestore, getDoc, getDocs, getFirestore, onSnapshot, query, setDoc, where } from \"firebase/firestore\";\nimport { optionConverter, PendingApplcation, Option, categoryConverter } from \"./type\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDHTYHXBArEA-6bqGFdbqsG1_KLuzGRE2I\",\n  authDomain: \"rizzy-bodycraft-record.firebaseapp.com\",\n  projectId: \"rizzy-bodycraft-record\",\n  storageBucket: \"rizzy-bodycraft-record.appspot.com\",\n  messagingSenderId: \"930408534506\",\n  appId: \"1:930408534506:web:127e3be9dd6236d9836293\",\n  measurementId: \"G-SKFHESV2J6\"\n};\n\nenum COLLECTION {\n    CATEGORY = \"category\",\n    USER_PROFILE = \"user-profile\",\n    APPLICATION = \"application\"\n}\n\nexport default class Firebase {\n\n    private static _inst: Firebase;\n\n    app: FirebaseApp;\n    auth: Auth;\n    firestore: Firestore;\n\n    private constructor() {\n        console.log(\"initializing firebase\");\n        this.app = initializeApp(firebaseConfig);\n        this.auth = getAuth(this.app);\n        this.firestore = getFirestore(this.app)\n    }\n\n    public static get instance() {\n        return Firebase._inst;\n    }\n\n    static init() {\n        if (!Firebase._inst) Firebase._inst = new Firebase();\n    }\n\n    // auth\n\n    async signup(email: string, password: string, name: string) {\n        updatePassword(this.auth.currentUser!, password).then(() => {\n            this.updateUserProfile({ email, name });\n        }).catch(err => console.error(err));\n    }\n\n    async login(args: { email: string, password?: string }): Promise<boolean> {\n        const { email, password } = args;\n        if (email !== undefined) {\n            if (password !== undefined) {\n                return await new Promise((resolve, reject) => {\n                    signInWithEmailAndPassword(this.auth, email, password).then(credential => {\n                        console.log(credential);\n                        resolve(true);\n                    }).catch((err: { code: string, message: string } ) => {\n                        console.error(err.code);\n                        reject(false);\n                    });\n                });\n            }\n            else {\n                console.log(email);\n                return await new Promise((resolve, reject) =>\n                    signInWithEmailLink(this.auth, email, window.location.href).then(result => {\n                        console.log(result);\n                        resolve(true);\n                    }).catch((err: { code: string, message: string }) => {\n                        // auth/invalid-email\n                        // auth/invalid-action-code when link used to login\n                        console.error(err.code, err.message);\n                        reject(false)\n                    })\n                );\n            }\n        }\n        return false;\n    }\n\n    async logout() {\n        await signOut(Firebase.instance.auth);\n    }\n\n    onAuthStateChanged(callback: (user: User | null) => void) {\n        return onAuthStateChanged(this.auth, user => callback(user));\n    }\n\n    approvePendingAccount(email: string) {\n        const actionCodeSettings = {\n            // URL you want to redirect back to. The domain (www.example.com) for this\n            // URL must be in the authorized domains list in the Firebase Console.\n            url: 'http://localhost:3000',\n            handleCodeInApp: true\n        };\n        sendSignInLinkToEmail(this.auth, email, actionCodeSettings).then(() => console.log(\"success\")).catch((err) => console.log(\"failed\", err));\n    }\n\n    isAnnoymousAccount() {\n        return isSignInWithEmailLink(this.auth, window.location.href)\n    }\n\n    // firestore\n\n    onPendingAccountsChange(callback: (pendings: Array<PendingApplcation>) => void) {\n        return onSnapshot(collection(this.firestore, COLLECTION.APPLICATION), collection => {\n            let pendings: Array<PendingApplcation> = [];\n            collection.forEach(application => pendings.push(Object.assign({ id: application.id }, application.data() as { name: string, email: string })));\n            callback(pendings)\n        })\n    }\n\n    async removePendingAccount(id: string) {\n        await deleteDoc(doc(this.firestore, COLLECTION.APPLICATION, id));\n    }\n\n    async checkNewAccount(email: string) {\n        return !(await getDoc(doc(this.firestore, COLLECTION.USER_PROFILE, email))).exists();\n    }\n\n    async updateUserProfile(profile: { email: string, name: string }) {\n        await setDoc(doc(this.firestore, COLLECTION.USER_PROFILE, profile.email), {\n            name: profile.name,\n            email: profile.email\n        })\n    }\n\n    async getCategories() {\n        let categories: Array<any> = [];\n        await getDocs(collection(this.firestore, COLLECTION.CATEGORY).withConverter(categoryConverter)).then(cats => cats.forEach(cat => {\n            categories.push(cat.data());\n        }));\n        return categories;\n    }\n\n    // async getOptions(categoryId: string) {\n    //     let options: Array<Option> = [];\n    //     await getDocs(collection(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\").withConverter(optionConverter))\n    //         .then(opts => opts.forEach(\n    //             opt => options.push(opt.data())\n    //         ));\n    //     return options;\n    // }\n\n    onOptionUpdate(categoryId: string, onUpdate: (options: Array<Option>) => void) {\n        return onSnapshot(collection(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\").withConverter(optionConverter), opts => {\n            let options: Array<Option> = [];\n            opts.forEach(opt => options.push(opt.data()));\n            onUpdate(options);\n        })\n    }\n\n    async addOption(categoryId: string, optionLabel: string, choices?: Array<string>) {\n        if (!(await getDocs(query(collection(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\"),where(\"title\", \"==\", optionLabel)))).empty) {\n            console.warn(\"label exists\");\n            return;\n        }\n        let obj = {\n            id: \"\",\n            title: optionLabel,\n            isChoices: choices !== undefined,\n            choices: choices\n        }\n        !obj.isChoices && delete obj.choices;\n        await addDoc(collection(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\").withConverter(optionConverter), obj);\n\n    }\n\n    async deleteOption(categoryId: string, optionId: string) {\n        await deleteDoc(doc(this.firestore, COLLECTION.CATEGORY, categoryId, \"Options\", optionId))\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}